{"version":3,"file":"vue-robot.js","sources":["../src/index.ts"],"sourcesContent":["import Vue from 'vue';\nimport {interpret} from \"robot3\";\nimport {ref} from \"@vue/composition-api\";\n\nexport default function vueRobot<C>(machine: any) {\n    const _state = ref<string>(machine.current);\n    const _context = ref<C>((machine as any).context());\n\n    const { setState, state } = {\n        setState(newState: any) {\n            Vue.nextTick(() => {\n                _state.value = newState;\n            });\n        },\n        state: _state\n    };\n    const { setContext, context } = {\n        setContext(newContext: any) {\n            _context.value = newContext;\n        },\n        context: _context\n    };\n\n    const { send } = interpret(machine, service => {\n        setState(service.machine.current);\n        setContext(service.context);\n    });\n\n    return { context, send, state };\n};\n"],"names":["machine","_state","ref","current","_context","context","setState","newState","Vue","nextTick","value","state","setContext","newContext","interpret","service"],"mappings":"wJAIoCA,OAC1BC,EAASC,MAAYF,EAAQG,SAC7BC,EAAWF,MAAQF,EAAgBK,aAEb,CACxBC,kBAASC,GACLC,EAAIC,oBACAR,EAAOS,MAAQH,KAGvBI,MAAOV,4BAEqB,CAC5BW,oBAAWC,GACPT,EAASM,MAAQG,GAErBR,QAASD,wBAQN,wBALUU,YAAUd,WAASe,GAChCT,EAASS,EAAQf,QAAQG,SACzBS,EAAWG,EAAQV,sBAGCM"}